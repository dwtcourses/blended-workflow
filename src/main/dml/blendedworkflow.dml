package pt.ist.socialsoftware.blendedworkflow.domain;

enum pt.ist.socialsoftware.blendedworkflow.domain.DataModel.DataState as DataState;
enum pt.ist.socialsoftware.blendedworkflow.domain.Attribute.AttributeType as AttributeType;
enum pt.ist.socialsoftware.blendedworkflow.domain.Relation.Cardinality as Cardinality;

class DataModel {
	String dataModelURI; 
	String activityModelURI;
	String goalModelURI;
	//int instanceCounter = 0;
	//HashMap<String, ParameterMapping> parameterMappings = new HashMap<String, ParameterMapping>();
}

class DataModelInstance {
	String dataModelInstanceID;
	boolean activityCaseClaimed; //= false;
	String activityCaseInstanceID;
	String goalCaseInstanceID; 
	//DataModelInstance instance;
}

class Entity {
	String id;
	String name;
	//boolean singleInstance = false;
	//int instanceCounter= 0;
}

class EntityInstance {
	String id;
	//Entity parent; //relation EntityInstanceRefersToEntity
	//DataModelInstance dataModelInstance; //= null
	//boolean isSkipped = false;
	//boolean isDefined = false;
}

class Attribute {
	String id;
	String name;
	AttributeType type;
	boolean isKeyAttribute;
	//EntityTemplate entity; //relation AttributeTemplateRefersToEntityTemplate
}

class AttributeInstance {
	String id;
	String value; //= null
	DataState state;
	//Attribute parent; //relation AttributeInstanceRefersToAttribute
	//EntityInstance entity; //relation AttributeInstanceRefersToEntityInstance
	//boolean isSkipped = false;
	//DataModelInstance dataModel = null;
}

class Relation {
	Cardinality cardinalityOne;
	Cardinality cardinalityTwo;
	boolean isOneKeyEntity;
	boolean isTwoKeyEntity;
	//Entity entityOne; //relation RelationHasEntities
	//Entity entityTwo; //relation RelationHasEntities	
}

class RelationInstance {
	//Relation parent; // relation RelationInstanceRefersToRelation
	//EntityInstance entityOne; //relation RelationInstanceHasEntityInstances
	//EntityInstance entityTwo; //relation RelationInstanceHasEntityInstances
}

//DataModel
relation DataModelHasDataModelInstances {
	DataModel playsRole dataModel { multiplicity 1..1; }
	DataModelInstance playsRole dataModelInstance { multiplicity 0..*; }
}

relation DataModelHasEntities {
	DataModel playsRole dataModel { multiplicity 1..1; }
	Entity playsRole entity { multiplicity 0..*; }
}

relation DataModelHasAttribute {
	DataModel playsRole dataModel { multiplicity 1..1; }
	Attribute playsRole attribute { multiplicity 0..*; }
}

relation DataModelHasRelation {
	DataModel playsRole dataModel { multiplicity 1..1; }
	Relation playsRole relations { multiplicity 0..*; }
}

//DataModelInstance
relation DataModelInstanceHasEntities {
	DataModelInstance playsRole dataModelInstance { multiplicity 1..1; }
	Entity playsRole entity { multiplicity 0..*; }
}

relation DataModelInstanceHasAttribute {
	DataModelInstance playsRole dataModelInstance { multiplicity 1..1; }
	Attribute playsRole attribute { multiplicity 0..*; }
}

relation DataModelInstanceHasRelation {
	DataModelInstance playsRole dataModelInstance { multiplicity 1..1; }
	Relation playsRole relations { multiplicity 0..*; }
}

//Entity
relation EntityHasAttributes {
	Entity playsRole entity { multiplicity 1..1; }
	Attribute playsRole attribute { multiplicity 0..*; }
}

relation EntityMayHaveRelations {
	Entity playsRole entity { multiplicity 2..2; }
	Relation playsRole relations { multiplicity 0..*; }
}

relation EntityHasEntityInstances {
	Entity playsRole entity { multiplicity 1..1; }
	EntityInstance playsRole entityInstance { multiplicity 0..*; }
}

//Relation
relation RelationHasRelationInstances {
	Relation playsRole relations { multiplicity 1..1; }
	RelationInstance playsRole relationInstance { multiplicity 0..*; }
}

//Atributes
relation AttributeHasAttributeInstances {
	Attribute playsRole attribute { multiplicity 1..1; }
	AttributeInstance playsRole attributeInstance { multiplicity 0..*; }
}

//EntityInstance
relation EntityInstanceHasAttributeInstances {
	EntityInstance playsRole entityInstance { multiplicity 1..1; }
	AttributeInstance playsRole attributeInstance { multiplicity 0..*; }
}

relation EntityInstanceMayHaveRelationInstances {
	EntityInstance playsRole entityInstance { multiplicity 2..2; }
	RelationInstance playsRole relationInstance { multiplicity 0..*; }
}